<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition >
        <!-- **********************************************************************************************************************************************************
         MAIN CONTENT
         *********************************************************************************************************************************************************** -->


        <!--main content start-->
        <section id="main-content">
            <section class="wrapper">

                <div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">
                    <div class="row">
                        <ol class="breadcrumb">
                            <li><a href="#">
                                    <em class="fa fa-home"></em>
                                </a></li>
                            <li class="active">Ventas</li>
                        </ol>
                    </div><!--/.row-->
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">Ventas</h1>
                        </div>
                    </div><!--/.row-->

                    <div class="row">
                        <div class="col-lg-12">
                            <h2>Formato De Venta</h2>
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Ingrese Datos De Venta Cliente
                                    <span class="pull-right clickable panel-toggle panel-button-tab-left"><em class="fa fa-toggle-up"></em></span>
                                </div>

                                <div class="panel-body">

                                    <br></br>
                                    <h:form class="needs-validation">
                                        <div class="row">
                                            <div class="col-lg-6 mb-3">
                                                <label for="firstName">Nombre Vendedor</label>
                                                <i class="glyphicon glyphicon-user"></i>
                                                <h:inputText html5:type="text" class="form-control" html5:placeholder="Vendedor" value="#{ventaRequest.newVen.nombreVendedor}" required=""/>
                                            </div>
                                            <div class="col-lg-6 mb-3">
                                                <label for="firstName">Nombre Cliente</label>
                                                <i class="glyphicon glyphicon-user"></i>
                                                <h:inputText html5:type="text" class="form-control" html5:placeholder="Cliente" value="#{ventaRequest.newVen.nombreComprador}" required=""/>
                                            </div>
                                            <div class="col-lg-6 mb-3">
                                                <label for="firstName">Dirección</label>
                                                <i class="glyphicon glyphicon-home"></i>
                                                <h:inputText html5:type="text" class="form-control" html5:placeholder="Dirección" value="#{ventaRequest.newVen.direccion}" required=""/>
                                            </div>
                                            <div class="col-lg-6 mb-3">
                                                <label for="address">Descripción</label>
                                                <i class="glyphicon glyphicon-pencil"></i>
                                                <h:inputText html5:type="text" class="form-control" html5:placeholder="Descripción del producto" value="#{ventaRequest.newVen.descripcion}" required=""/>
                                            </div>
                                            <div class="col-lg-6 mb-3 custom-control custom-checkbox">
                                                <h:inputText html5:type="checkbox" class="custom-control-input" id="save-info"/>
                                                <label class="custom-control-label" for="save-info">Guardar esta información para la próxima vez</label>
                                            </div>
                                        </div>
                                        <br></br>
                                        <div class="col-lg-3 mb-3">
                                            <label for="firstName">Precio Total</label>
                                            <i class="glyphicon glyphicon-usd"></i>
                                            <h:inputText html5:type="number" class="form-control" html5:placeholder="Precio total" value="#{ventaRequest.newVen.precioTotal}" required=""/>
                                        </div>
                                        <div class="col-lg-3 mb-3">
                                            <label for="firstName">Pago Total</label>
                                            <i class="glyphicon glyphicon-usd"></i>
                                            <h:inputText html5:type="number" class="form-control" html5:placeholder="Pago Total" value="#{ventaRequest.newVen.pagoTotal}" required=""/>
                                        </div>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <div class="d-block my-3">
                                            <h4 class="mb-3">Metodo De Pago</h4>
                                            <i class="glyphicon glyphicon-shopping-cart"></i>
                                            <div class="col-md-4">
                                                <h:selectOneMenu class="form-control" value="#{ventaRequest.newVen.metodoPago}">
                                                    <f:selectItem itemLabel="Efectivo" itemValue="Efectivo"></f:selectItem>
                                                    <f:selectItem itemLabel="Tarjeta credito" itemValue="Tarjeta credito"></f:selectItem>
                                                    <f:selectItem itemLabel="Tarjeta debito" itemValue="Tarjeta debito"></f:selectItem>
                                                </h:selectOneMenu>
                                            </div>
                                        </div>
                                        <br></br>
                                        <br></br>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label for="cc-name">Nombre titular de tarjeta</label>
                                                <i class="glyphicon glyphicon-user"></i>
                                                <h:inputText html5:type="text" class="form-control" html5:placeholder="Nombre tarjeta" required=""/>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label for="cc-number">Número de tarjeta</label>
                                                <i class="glyphicon glyphicon-credit-card"></i>
                                                <h:inputText html5:type="number" class="form-control" html5:placeholder="Número tarjeta" required=""/>
                                            </div>
                                        </div>
                                        <br></br>
                                        <div class="row">
                                            <div class="col-md-3 mb-3">
                                                <label for="cc-expiration">Fecha de expiración</label>
                                                <i class="glyphicon glyphicon-calendar"></i>
                                                <h:inputText html5:type="date" class="form-control" html5:placeholder="" required=""/>
                                            </div>
                                            <div class="col-md-3 mb-3">
                                                <label for="cc-cvv">CVV</label>
                                                <i class="glyphicon glyphicon-lock"></i>
                                                <h:inputText html5:type="number" class="form-control" html5:placeholder="CVV" required=""/>
                                            </div>
                                        </div>
                                        <br></br>
                                        <h:commandButton class="btn btn-primary btn-block" type="submit" value="Confirmar compra" action="#{ventaRequest.registrarVenta()}" style="width: 170px; text-align: center;"/>
                                        <h:commandButton class="btn btn-danger btn-block" type="submit" value="Cancelar compra" style="width: 170px; text-align: center;"/>
                                    </h:form>
                                </div>


                            </div>  
                        </div>
                    </div>

                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card">
                                    <div class="card-header card-header-primary">
                                        <h4 class="card-title ">Registros de Ventas</h4>
                                    </div>
                                    <table class="table table-striped table-advance table-hover">

                                        <thead>
                                            <tr>

                                                <th><i class="fa fa-bookmark"></i> Codigo de Venta</th>
                                                <th class="hidden-phone"><i class="fa fa-question-circle"></i> Nombre del cliente</th>
                                                <th><i class="fa fa-bullhorn"></i> Direccion</th>
                                                <th><i class="fa fa-bookmark" style="center"></i> Fecha </th>
                                                <th><i class="fa fa-bullhorn"></i> Precio Total</th>
                                                <th><i class=" fa fa-edit"></i> Metodo de pago</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <h:form id="listaUsuarios">
                                                <c:forEach items="#{ventasView.listaVentas}" var="ven">

                                                    <tr>
                                                        <td>
                                                            #{ven.IDVenta} 
                                                        </td>
                                                        <td class="hidden-phone">#{ven.nombreComprador}</td>
                                                        <td>
                                                            #{ven.direccion}

                                                        </td>
                                                        <td> #{ven.fecha} </td>
                                                        <td> #{ven.pagoTotal} </td>
                                                        <td> #{ven.metodoPago} </td>

                                                        <td>
                                                            <h:commandButton class="btn btn-success btn-xs" value="factura" action="#{ventasView.descargaFactura(ven.IDVenta)}"></h:commandButton>
                                                        </td>#{administradorView.descargaCertificado(usu.id)}

                                                    </tr>

                                                </c:forEach>



                                            </h:form>

                                        </tbody>


                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </section>
        </section>
        <!--main content end-->
    </ui:composition>
</html>

